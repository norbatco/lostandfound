<!DOCTYPE html>
<html lang="en" ng-app="lostAndFoundApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NORBATCO Lost and Found</title>
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  
  <!-- AngularJS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

  <!-- Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <!-- Fonts-->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

  <style>

    /* General Styles */

    body {
      font-family: 'Poppins', sans-serif;
    }

    html {
      scroll-behavior: smooth;
    }

    .btn:hover {
      background-color: #003bb3;
      transition: background-color 0.3s ease;
    }

    input:focus, textarea:focus {
      border-color: #0056ff;
      transition: border-color 0.3s ease-in-out;
    }

    .fade-in {
      opacity: 0;
      animation: fadeIn 1s forwards;
    }

    @keyframes fadeIn {
      100% {opacity: 1;}
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    .navbar {
      background-color: rgba(0, 0, 0, 0.7);
    }

    .navbar a {
      color: rgb(255, 255, 255) !important;
    }

    .navbar-brand img {
      height: 75px; 
      width: auto;  
    }

    .navbar-nav {
      display: flex;  
      align-items: center;  
    }

    .navbar-divider {
      margin: 0 10px;  
      color: white;  
      font-size: 18px;  
    }

    .nav-item {
      display: flex;  
      align-items: center;  
    }

    .header {
      background: linear-gradient(rgba(0, 0, 0, 0.745), rgba(0, 0, 0, 0.163)), url('https://pia.gov.ph/uploads/2024/02/ef14a2d0c9f48d8756c1ab92433293bf.jpg') no-repeat center center/cover;
      backdrop-filter: blur(10px);
      background-color: rgb(0, 0, 0);
      color: rgb(255, 255, 255);
      text-align: center;
      padding: 100px 20px;
      padding-top: 10%;
    }

    .header h1, .header p {
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.8);
    }

    /* Found Items Section */
    .items-section {
      padding: 25px 25px;
      background: white;
      background-size: cover;
      color: rgb(0, 0, 0);
      border-radius: 15px; /* Rounded corners for the entire section */
    }

    .card {
      margin: 5px 0;
      color: rgb(0, 0, 0);
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .category-found {
      color: limegreen;
    }

    .category-lost {
      color: red;
    }

    /* Style for the search icon */
    .search-icon {
      position: absolute;
      top: 50%; 
      left: 8px; 
      transform: translateY(-50%);
      color: #ccc; 
      font-size: 16px; 
      pointer-events: none; 
    }

    /* Spyglass space :P */
    .form-control.pl-4 {
      padding-left: 35px; 
    }

    /* Report Form Section */
    #report-section {
      position: relative;
      background: linear-gradient(
    rgba(0, 0, 0, 0.285),
    rgba(122, 122, 122, 0.579)), url('https://static.vecteezy.com/system/resources/thumbnails/009/201/628/small_2x/paperwork-business-and-file-documents-of-unfinished-stacked-on-office-desk-archive-in-archive-analyzing-the-market-and-considers-the-size-of-future-profits-on-table-office-concept-work-in-office-free-photo.jpg') no-repeat center center/cover;
      backdrop-filter: blur(33px); 
      -webkit-backdrop-filter: blur(35px); 
      border: 1px solid rgba(255, 255, 255, 0.3); 
      padding: 50px 20px;
      border-radius: 15px; 
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
    }

    #report-section form {
      max-width: 600px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.16); /* Inner form background */
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    #report-section h2 {
      color: white;
      text-align: center;
    }

    /* Styling for the Reported Items Container */
    .reported-items-container {
        max-height: 500px;  
        overflow-y: auto;   
        overflow-x: hidden;
        border: 2px solid #ddd; 
        padding: 25px; 
        margin-top: 20px;
        border-radius: 15px;
    }

    /* Optional: Add some styling for the items and cards */
    .card {
        margin-bottom: 10px; /* Add space between cards */
    }

    /* Custom scrollbar style */
    .reported-items-container::-webkit-scrollbar {
        width: 8px;  
    }

    .reported-items-container::-webkit-scrollbar-thumb {
        background-color: #888;  
        border-radius: 4px; 
    }

    .reported-items-container::-webkit-scrollbar-thumb:hover {
        background-color: #555;  
    }

    /* About Section */
    #about-section {
      background: linear-gradient(rgba(0, 0, 0, 0.604),rgba(0, 0, 0, 0.53)), url('https://github.com/norbatco/lostandfound/blob/main/norbatco.jpg?raw=true') no-repeat center center/cover;
      background-position: cover;
      color: rgb(255, 255, 255);
      text-align: center;
      padding: 50px 20px;
    }

    #about-section h2 p {
      font-family: 'Poppins', sans-serif;
    }

    #about-section p {
      text-align: justify;
    }

    .about-section img {
      max-width: 100%;
      border-radius: 10px;
    }

    /* Footer */
        .footer-container {
      display: flex;
      background: #282828;
      flex-wrap: wrap; /* Ensure wrapping on smaller screens */
      justify-content: space-between; /* Maintain spacing between sections */
      align-items: center;
      text-align: center; /* Center-align for smaller screens */
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      color: white;
    }

/* Ensure equal width for all sections on larger screens */
    .footer-left, .footer-center, .footer-right {
      flex: 1;
    }

    /* Text alignment adjustments */
    .footer-left {
      text-align: left;
    }

    .footer-right {
      text-align: right;
    }

    /* Social icons dynamic sizing */
    .social-icon {
      font-size: 1.5rem; /* Default size */
      margin-left: 10px;
      transition: font-size 0.3s ease; /* Smooth resizing */
    }

    .social-icon:hover {
      font-size: 1.8rem; /* Slightly larger on hover */
      color: #0056ff;
    }

    /* Responsive behavior for smaller screens */
    @media (max-width: 768px) {
      .footer-left, .footer-center, .footer-right {
        flex-basis: 100%; /* Each section takes up full width */
        text-align: center; /* Center text for better readability */
        margin-bottom: 10px; /* Add spacing between sections */
      }

      .social-icon {
        font-size: 1.3rem; /* Smaller size on smaller screens */
      }
    }

    footer p {
      margin: 0;
      margin-bottom: 5px;
    }

    .about-section p {
      margin: 0;
      margin-bottom: 15px;
      padding-right: 50px;
    }

    /* Button to toggle login popup */
    .btn-show-login {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 10px 15px;
      background-color: #0056ff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      opacity: 0%;
    }

    .btn-show-login:hover {
      background-color: #003bb3;
    }

    /* Popup container */
    .popup-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    /* Popup content */
    .popup-content {
      background: 
        linear-gradient(rgba(0, 47, 95, 0.576), rgba(0, 59, 107, 0.601)), /* Color overlay */
        url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_WG8tmOMPAr1qNI93-jUFyEQXw64xBdRmPg&s') no-repeat center center; /* Background image */
      background-size: cover; /* Ensures the image covers the entire area */
      color: white; /* Text color */
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .popup-content h2 {
      text-align: center;
      color: #fff;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      color: #fff;
      display: block;
      font-size: 14px;
      margin-bottom: 5px;
    }

    .input-wrapper {
      position: relative;
    }

    .input-wrapper i {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: #ccc;
    }

    .input-wrapper input {
      width: 100%;
      padding: 10px 10px 10px 35px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .toggle-password {
      position: absolute;
      right: 40px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      color: #777;
    }

    .btn-login {
      width: 100%;
      padding: 10px;
      background-color: #00137f;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn-login:hover {
      background-color: #003bb3;
    }

    .password-wrapper {
      position: relative;
    }

    .password-wrapper .toggle-password {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      cursor: pointer;
      color: #777;
    }

  </style>
</head>
<body ng-controller="mainController">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <a class="navbar-brand" href="#">
      <img src="https://raw.githubusercontent.com/norbatco/lostandfound/refs/heads/main/images.png" alt="NORBATCO Logo" style="height: 40px;">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item"><a class="nav-link" href="#top">Home</a></li>
        <li class="nav-item navbar-divider"><span>|</span></li>
        <li class="nav-item"><a class="nav-link" href="#report-section">Create Report</a></li>
        <li class="nav-item navbar-divider"><span>|</span></li>
        <li class="nav-item"><a class="nav-link" href="#about-section">About</a></li>
        <li class="nav-item navbar-divider"><span>|</span></li>
        <li class="nav-item"><a class="nav-link" href="#" ng-click="toggleLoginPopup()">Login</a></li>
      </ul>
    </div>
  </nav>

  <!-- Header Section -->
  <div id="top" class="header" class="fade-in">
    <br><br><br>
    <h1>NORBATCO Lost and Found</h1>
    <p>A Solution for Recovering Belongings on Public Transportation</p>
    <button class="btn btn-primary my-2" ng-click="scrollTo('report-section')">Report a Lost Item</button>
  </div>

  <!-- Found Items Section -->
  <div class="container items-section">
        <h2 class="text-center">Reported Items</h2>
        
        <!-- Search Bar with Spyglass Icon -->
        <div class="form-group position-relative">
          <input type="text" class="form-control pl-4" ng-model="searchTerm" placeholder="Search for items..." />
          <i class="fas fa-search search-icon"></i>
        </div>
      
        <!-- Scrollable Box -->
        <div class="reported-items-container">
          <div class="row">
            <div class="col-md-4" ng-repeat="item in items | filter:searchTerm">
              <div class="card">
                <img ng-src="{{item.image}}" class="card-img-top" alt="{{item.itemName}}">
                <div class="card-body">
                  <h5 class="card-title">{{item.itemName}}</h5>
                  <p class="card-text">{{item.description}}</p>
                  <span class="category" ng-class="{
                    'category-found': item.category === 'Found',
                    'category-lost': item.category === 'Lost'
                  }">
                    {{item.category}}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      

  <!-- Report Form Section -->
  <div id="report-section">
    <h2 class="text-center mb-4">Create a Report</h2>
    <form ng-submit="submitReport()">
      <div class="form-group">
        <label for="userName">Your Name</label>
        <input type="text" class="form-control" id="userName" ng-model="newItem.name" placeholder="Enter your name" required />
      </div>
      <div class="form-group">
        <label for="itemName">Item Name</label>
        <input type="text" class="form-control" id="itemName" ng-model="newItem.itemName" placeholder="Enter item name" required />
      </div>
      <div class="form-group">
        <label for="itemDescription">Item Description</label>
        <textarea class="form-control" id="itemDescription" ng-model="newItem.description" rows="3" placeholder="Describe the item" required></textarea>
      </div>
      <div class="form-group">
        <label for="itemCategory">Category</label>
        <select class="form-control" id="itemCategory" ng-model="newItem.category" required>
          <option value="Lost">Lost</option>
          <option value="Found">Found</option>
        </select>
      </div>
      <div class="form-group">
        <label for="itemImage">Upload Item Image</label>
        <input type="file" class="form-control-file" id="itemImage" 
               ng-model="newItem.imageFile" 
               onchange="angular.element(this).scope().handleFileUpload(this.files)" />
      </div>      
      <button type="submit" class="btn btn-primary btn-block">Submit Report</button>
    </form>
  </div>

  <!-- About Section -->
  <div id="about-section" class="about-section fade-in">
    <div class="container">
      <div class="row align-items-center">
        <!-- Left Column: Text -->
        <div class="col-md-6 text-center text-md-left">
          <h2>About NORBATCO Lost and Found</h2>
          <p>
            NORBATCO Lost & Found is a web-based platform designed to help you recover lost items on public transportation.

When you report a lost item, it is logged into our secure database. This allows our system, as well as public transportation authorities, to search for and identify your lost belongings, increasing the chances of recovery.

Our platform is user-friendly and secure, ensuring that your data is protected. For insurance claims, certificates from NORBATCO Lost & Found can often be used in place of traditional lost item reports.

Please note that NORBATCO Lost & Found is intended for accidental losses. If your item has been stolen, you should report the theft to local law enforcement to obtain a crime reference number.
          </p>
        </div>
  
        <!-- Right Column: Image -->
        <div class="col-md-6 text-center">
          <img src="https://factohr-1a56a.kxcdn.com/wp-content/uploads/2021/03/jse.png" alt="About NORBATCO" class="img-fluid rounded">
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-left">
        <p>Address: </p>
        <br>
        <p>101 New Kawayan</p>
        <p>Tacloban City</p>
        <p>Leyte</p>
      </div>
      <div class="footer-center">
        <p>Phone: 093 9379 33017</p>
        <p>Email: norbatco@gmail.com</p>
        <br>
        <br>
        <p>&copy; NORBATCO Lost and Found</p>
      </div>
      <div class="footer-right">
        <p>Find us @:</p>
        <br>
        <a href="https://facebook.com" target="_blank" class="social-icon"><i class="fab fa-facebook"></i></a>
        <a href="https://instagram.com" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
        <a href="https://x.com" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>
      </div>
    </div>
  </footer>

  <!-- Button to trigger login popup -->
  <button class="btn-show-login" ng-click="toggleLoginPopup()">Login</button>

  <!-- Login Popup -->
  <div class="popup-container" ng-if="loginVisible"> <!-- Use ng-if instead of ng-show -->
    <div class="popup-content">
      <form ng-submit="handleLogin()">
        <h2>Login</h2>
        <div class="form-group">
          <label for="email">Email</label>
          <div class="input-wrapper">
            <i class="fa fa-user"></i>
            <input type="email" id="email" ng-model="user.email" placeholder="Email Address" required />
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <div class="input-wrapper">
            <i class="fa fa-lock"></i>
            <input type="password" id="password" ng-model="user.password" placeholder="Password" required />
            <span class="toggle-password" ng-click="togglePasswordVisibility()">
              <i class="fa" ng-class="passwordVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
            </span>
          </div>
        </div>
        <button type="submit" class="btn-login">Login</button>
      </form>
    </div>
  </div>

  <!-- AngularJS Application Script -->
  <script>
    var app = angular.module('lostAndFoundApp', []);

    app.controller('mainController', function($scope, $anchorScroll, $location) {

      // Manage popup visibility
      $scope.loginVisible = false;

      // User data for login
      $scope.user = {
        email: '',
        password: '',
      };

      // Password visibility state
      $scope.passwordVisible = false;

      $scope.reportedItems = [
          'Black Wallet',
          'Blue Shoes',
          'Red Umbrella',
      ];

      $scope.items = [
        { name: 'Black Wallet', description: 'A small black wallet with gold details.', category: 'Found', image: 'https://i.ebayimg.com/images/g/mPgAAOSw8QtkYAin/s-l400.png' },
        { name: 'Blue Shoes', description: 'A pair of blue sneakers.', category: 'Lost', image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWoFnMN1Dwa545eDc5UTZSt5gK1oftGJ2nUg&s' },
        { name: 'Red Umbrella', description: 'A bright red umbrella.', category: 'Found', image: 'https://www.ilmarchesato.com/cdn/shop/products/4-490_6_2048x.jpg?v=1665154607' },
      ];

      // Function to toggle the visibility of the dropdown
      $scope.isDropdownVisible = false;
      $scope.toggleDropdown = function() {
          $scope.isDropdownVisible = !$scope.isDropdownVisible;
      };

      // Function to select an item from the dropdown list
      $scope.selectedItem = '';
      $scope.selectItem = function(item) {
          $scope.selectedItem = item;
          $scope.isDropdownVisible = false; // Hide the dropdown after selection
      };

      // New item model
        $scope.newItem = {
          name: '',
          itemName: '',
          description: '',
          category: 'Lost',
          image: '',
          imageFile: null
        };

        $scope.handleFileUpload = function(files) {
            if (files && files[0]) {
              const reader = new FileReader();
              reader.onload = function(event) {
                $scope.$apply(function() {
                  $scope.newItem.image = event.target.result; // Save as a data URL
                });
              };
              reader.readAsDataURL(files[0]); // Convert the file to a base64 data URL
            }
          };

      // Handle form submission
        $scope.submitReport = function() {
          // Create a new item from the form input
          var newItem = {
            itemName: $scope.newItem.itemName,
            description: $scope.newItem.description,
            category: $scope.newItem.category,
            image: $scope.newItem.image || 'https://via.placeholder.com/150' // Fallback image if none provided
          };

          // Add the new item to the items array
          $scope.items.push(newItem);

          // Reset the form
          $scope.newItem = {
            itemName: '',
            description: '',
            category: 'Lost',
            image: '',
            imageFile: null
          };

          // Optional: Display confirmation
          alert('Your item report has been submitted!');
        };
      

      // Scroll to section
      $scope.scrollTo = function(id) {
        // Update the location hash to the target section
        $location.hash(id);
        // Use the $anchorScroll service to scroll to that section
        $anchorScroll();
      };

       // Manage popup visibility
      $scope.loginVisible = false;

      // Toggle the login popup visibility
      $scope.toggleLoginPopup = function () {
        $scope.loginVisible = !$scope.loginVisible;
      };

      // Toggle password visibility
      $scope.togglePasswordVisibility = function () {
        $scope.passwordVisible = !$scope.passwordVisible;
        const passwordInput = document.getElementById('password');
        passwordInput.type = $scope.passwordVisible ? 'text' : 'password';
      };

      // Handle login form submission
      $scope.handleLogin = function () {
        if ($scope.user.email && $scope.user.password) {
          alert('Login successful (demo)');
          $scope.toggleLoginPopup(); // Close the popup on success
        } else {
          alert('Please enter valid email and password');
        }
      };
    });
  </script>

  <!-- Bootstrap and jQuery Scripts -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
